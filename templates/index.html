<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <title>Mini Geometry Dash (Flask + Phaser)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <!-- Phaser CDN -->
  <script src="https://cdn.jsdelivr.net/npm/phaser@3.80.0/dist/phaser.min.js"></script>
  <!-- Bulma(선택) -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css">
  <style>
    html, body { height: 100%; margin: 0; background: #0f1226; }
    #wrap { max-width: 1100px; margin: 0 auto; padding: 16px; }
    #game-container { background: #0f1226; }
    .hud { color: #fff; margin: 12px 0; }
    .bar { width: 100%; height: 10px; background: #22253f; border-radius: 8px; overflow: hidden; }
    .bar > span { display: block; height: 100%; width: 0%; background: #6cf; transition: width .08s linear; }
    .pill { background: #1a1e3e; padding: 6px 10px; border-radius: 999px; font-size: 12px; color:#fff; margin-right: 8px; }
    .box { background: #101433; color: #cfd8ff; }
    table td, table th { color: #e6ebff; }
    .is-label { color:#a8b3ff; }
  </style>
</head>
<body>
<div id="wrap">
  <section class="section" style="padding-top: 10px;">
    <h1 class="title has-text-white">Mini Geometry Dash</h1>
    <p class="subtitle has-text-grey-light">Flask(백엔드) + Phaser(프론트) + 랭킹</p>

    <div class="columns">
      <div class="column is-two-thirds">
        <div id="game-container"></div>

        <div class="hud">
          <span class="pill" id="tries">Tries: 0</span>
          <span class="pill" id="speed">Speed: -</span>
          <span class="pill" id="bpm">BPM: -</span>
        </div>
        <div class="bar"><span id="progress"></span></div>
      </div>

      <div class="column">
        <div class="box">
          <h2 class="title is-5 has-text-white">플레이어 이름</h2>
          <div class="field has-addons">
            <div class="control is-expanded">
              <input id="playerName" class="input" placeholder="이름(최대 20자)">
            </div>
            <div class="control">
              <button id="saveBtn" class="button is-primary" disabled>점수 저장</button>
            </div>
          </div>
          <p class="is-label">클리어 시 자동으로 점수를 채워둡니다. 저장 버튼으로 랭킹에 등록!</p>
        </div>

        <div class="box">
          <h2 class="title is-5 has-text-white">랭킹 Top 10</h2>
          <table class="table is-fullwidth">
            <thead>
              <tr><th>#</th><th>이름</th><th>점수</th><th>Tries</th><th>시간</th></tr>
            </thead>
            <tbody id="rankBody"></tbody>
          </table>
          <button id="refreshBtn" class="button is-link is-light is-small">새로고침</button>
        </div>
      </div>
    </div>
  </section>
</div>

<script src="/static/js/main.js"></script>
</body>
</html>